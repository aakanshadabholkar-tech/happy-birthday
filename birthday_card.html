<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Magical Birthday Card</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(120deg, #fbc2eb, #a6c1ee);
    font-family: 'Comic Sans MS', cursive, sans-serif;
    overflow: hidden;
    flex-direction: column;
  }

  .page { display: none; text-align: center; color: #333; z-index: 1; }
  .active { display: block; }

  h1 { font-size: 40px; margin-bottom: 20px; }
  p { font-size: 20px; margin-bottom: 25px; }

  input {
    padding: 10px;
    font-size: 18px;
    border-radius: 8px;
    border: 2px solid #ff4b5c;
    text-align: center;
    width: 150px;
  }

  /* Balloons */
  .balloon { position: absolute; bottom: -150px; width: 60px; height: 80px; border-radius: 50%; animation: floatUp 6s ease-in infinite; z-index: 0; }
  .balloon::after { content: ""; position: absolute; bottom: -40px; left: 50%; width: 2px; height: 40px; background: black; }
  @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-120vh); opacity: 0; } }

  /* Medium Cake */
  .cake { 
    width: 180px; 
    height: 120px; 
    background: #ffb347; 
    margin: 20px auto; 
    border-radius: 10px; 
    position: relative; 
    cursor: pointer; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.3); 
  }

  .cake::before { 
    content: ""; 
    position: absolute; 
    top: -30px; 
    left: 40px; 
    width: 100px; 
    height: 30px; 
    background: pink; 
    border-radius: 5px; 
  }

  .candle { 
    width: 10px; 
    height: 40px; 
    background: white; 
    margin: 0 6px; 
    display: inline-block; 
    position: relative; 
    top: -40px; 
  }

  .flame { 
    width: 12px; 
    height: 18px; 
    background: orange; 
    border-radius: 50%; 
    margin: 0 auto; 
    position: relative; 
    top: -60px; 
    animation: flicker 0.3s infinite alternate; 
  }

  @keyframes flicker { from { transform: scale(1); opacity: 0.8; } to { transform: scale(1.2); opacity: 1; } }

  /* Hearts */
  .heart { position: absolute; bottom: -50px; font-size: 24px; color: red; animation: floatHearts 6s linear infinite; }
  @keyframes floatHearts { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-120vh) scale(1.5); opacity: 0; } }

  /* Typewriter */
  .typewriter { display: inline-block; overflow: hidden; border-right: .15em solid pink; white-space: nowrap; animation: typing 4s steps(40, end), blink .75s step-end infinite; font-size: 22px; }
  @keyframes typing { from { width: 0; } to { width: 100%; } }
  @keyframes blink { from, to { border-color: transparent; } 50% { border-color: pink; } }

  /* Fireworks Canvas */
  #fireworks { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; }

  /* Final page pink background */
  #page3 { background-color: pink; }
</style>
</head>
<body>

<!-- Romantic Instrumental music -->
<audio id="romantic-music" loop>
  <source src=" Ishq Wala Love-Downringtone.com.mp3" type="audio/mpeg">
</audio>

<!-- Birthday music -->
<audio id="birthday-music">
  <source src="YOUR_BIRTHDAY_MUSIC_URL_HERE.mp3" type="audio/mpeg">
</audio>

<!-- Page 1: Delayed Welcome + Date Input -->
<div class="page active" id="page1">
  <h1 id="welcome-msg">Hello, Welcome üéâ</h1>
  <p id="date-prompt" style="display:none;">Type today's date in <strong>__.__.25</strong></p>
  <input type="text" id="dateInput" placeholder="__.__.25" style="display:none;" />
</div>

<!-- Page 2: Cake Page -->
<div class="page" id="page2">
  <h1>üéÇ Happy Birthday üéÇ</h1>
  <p>Cut the cake by clicking üéÇ</p>

  <div class="cake" onclick="cutCake()">
    <div class="candle"></div>
    <div class="candle"></div>
    <div class="candle"></div>
    <div class="flame"></div>
  </div>

  <!-- Balloons -->
  <div class="balloon" style="left:10%; background:red; animation-delay:0s;"></div>
  <div class="balloon" style="left:30%; background:orange; animation-delay:2s;"></div>
  <div class="balloon" style="left:50%; background:yellow; animation-delay:4s;"></div>
  <div class="balloon" style="left:70%; background:green; animation-delay:1s;"></div>
  <div class="balloon" style="left:90%; background:blue; animation-delay:3s;"></div>
</div>

<!-- Page 3: Final Page -->
<div class="page" id="page3">
  <h1>üíû Together Forever üíû</h1>
  <p>
    From the very first moment we met, you‚Äôve brought so much joy and light into my life. 
    Every memory we‚Äôve shared, every laugh, every adventure, makes me cherish you even more. 
    You inspire me to be the best version of myself, and I can‚Äôt imagine my life without you. 
    On this special day, I wish for all your dreams to come true, happiness to surround you 
    every single day, and our bond to grow stronger with each passing moment. 
    You are my happiness, my strength, and my forever companion.
  </p>
  <p class="typewriter">Love you a lot ‚ù§Ô∏è</p>
</div>

<canvas id="fireworks"></canvas>

<script>
const romanticMusic = document.getElementById("romantic-music");
const birthdayMusic = document.getElementById("birthday-music");

// Show date input after 2 seconds
setTimeout(() => {
  document.getElementById("date-prompt").style.display = "block";
  document.getElementById("dateInput").style.display = "inline-block";
  document.getElementById("dateInput").focus();
}, 2000);

// Page navigation
function goToPage(n){
  document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
  document.getElementById("page"+n).classList.add("active");
  if(n===3){
    startHearts();
    startFireworks();
    romanticMusic.play();
  }
}

// Secret Date Input
document.getElementById("dateInput").addEventListener("keypress", function(e){
  if(e.key === "Enter"){
    if(this.value === "23.09.25"){
      romanticMusic.play(); // start Ishq Wala Love
      goToPage(2);
    } else {
      alert("Incorrect date! Please type today's date in __.__.25");
      this.value = "";
    }
  }
});

// Cut Cake
function cutCake(){
  romanticMusic.pause();
  birthdayMusic.currentTime = 0;
  birthdayMusic.play();
  
  setTimeout(()=>{
    birthdayMusic.pause();
    goToPage(3);      // Final page
    romanticMusic.play(); // Resume romantic music
  }, 4000); // adjust if birthday song is longer
}

// Floating hearts
function startHearts(){
  setInterval(()=>{
    const heart = document.createElement("div");
    heart.className="heart";
    heart.style.left=Math.random()*100+"vw";
    heart.style.animationDuration=(3+Math.random()*3)+"s";
    heart.innerText="‚ù§Ô∏è";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
  },500);
}

// Fireworks
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
resizeCanvas();
window.addEventListener("resize",resizeCanvas);
function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
let particles=[];
function startFireworks(){
  setInterval(()=>{
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height/2;
    for(let i=0;i<100;i++){
      particles.push({x,y,angle:Math.random()*2*Math.PI,speed:Math.random()*5+2,radius:2,alpha:1});
    }
  },800);
  animate();
}
function animate(){
  requestAnimationFrame(animate);
  ctx.fillStyle="rgba(0,0,0,0.1)";
  ctx.fillRect(0,0,canvas.width,canvas.height);
  particles.forEach((p,i)=>{
    p.x+=Math.cos(p.angle)*p.speed;
    p.y+=Math.sin(p.angle)*p.speed;
    p.alpha-=0.01;
    ctx.fillStyle=`rgba(${Math.random()*255},${Math.random()*255},${Math.random()*255},${p.alpha})`;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.radius,0,Math.PI*2);
    ctx.fill();
    if(p.alpha<=0) particles.splice(i,1);
  });
}
</script>
</body>
</html>
